var chatApp = angular.module('chatApp', []);

chatApp.controller('LoginController', function($scope){
	$scope.firstName = '';
	$scope.lastName = '';
	$scope.initials = '';
	$scope.bgcolor='#F44336';
	$scope.boxColor='';
	$scope.colors = ['F44336','E91E63','9C27B0','673AB7','3F51B5','2196F3','03A9F4','00BCD4','009688','4CAF50','8BC34A','FF5722','795548','607D8B','333333'];

	$scope.isRegisteredAlready = function(){
		$scope.returnValue = false;
		$scope.firstName= localStorage.getItem('firstName');alert($scope.firstName);
		$scope.lastName = localStorage.getItem('lastName');
		$scope.bgcolor = localStorage.getItem('dpColor');
		$scope.initials = localStorage.getItem('initials');
		if($scope.firstName=='' || $scope.lastName=='' || $scope.initials=='' || $scope.dpColor==''){

		}else{
			$scope.returnValue=true;
			alert('Hi '+$scope.firstName+'! :)');
		}
		return $scope.returnValue;
	}

	$scope.change = function(){
		$scope.initials = $scope.firstName.substring(0,1) + $scope.lastName.substring(0,1);
		$scope.initials = angular.uppercase($scope.initials);
	};

	$scope.setColor = function(color){
		$scope.bgcolor  = '#'+ color;
		$scope.boxColor = {'background-color':$scope.bgcolor};
	}

	$scope.saveDataToLocalStorage = function(){
		localStorage.setItem('firstName',$scope.firstName);
		localStorage.setItem('lastName', $scope.lastName);
		localStorage.setItem('initials', $scope.initials);
		localStorage.setItem('dpColor', $scope.bgcolor);
	}

	$scope.register = function(){
		if($scope.firstName.trim()=='' || $scope.lastName.trim()==''){
			alert('All fields are required!');
		}else{
			$scope.saveDataToLocalStorage();
			alert('Registered Successfuly!');
		}
		
	}

});